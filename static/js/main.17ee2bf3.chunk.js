(window["webpackJsonpchips-ahoy"]=window["webpackJsonpchips-ahoy"]||[]).push([[0],{107:function(e,t,a){e.exports=a(126)},126:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(9),i=a.n(o),s=a(82),c=a.n(s),l=a(20),u=a(95),_=a(14),d=a(18),p=a(19),f=a(22),h=a(21),m=a(91),g=a.n(m),v=a(92),b=a.n(v),E=a(178),y=a(96),j=a(177),w=a(129),O=a(23),C=a(11),k=a(25),F=function(e){var t;return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),flexGrow:1,background:"rgb(250, 250, 250)"},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},toolbar:(t={minHeight:56},Object(k.a)(t,e.breakpoints.up("sm"),{minHeight:55}),Object(k.a)(t,"background","#ffc107"),Object(k.a)(t,"display","flex"),Object(k.a)(t,"flexDirection","row"),Object(k.a)(t,"alignContent","center"),Object(k.a)(t,"justifyContent","space-between"),Object(k.a)(t,"alignItems","center"),t),menuButton:{marginRight:e.spacing(1)},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(C.a)(Object(C.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"space-between",backgroundColor:e.palette.primary.main,minHeight:"".concat(55,"px !important"),height:"".concat(55,"px !important")}),content:{flexGrow:1,height:"100vh",overflow:"auto"},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},container:{marginTop:55,paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},button:{color:"#fff !important",textTransform:"uppercase",textDecoration:"none",background:"#ed3330",border:"none",textAlign:"center",width:"180px"},nameFile:{marginLeft:"1.5rem",marginRight:"1.5rem"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:"calc(100vh - ".concat(93.5,"px)")},progressbarContainer:{position:"relative",marginLeft:0,width:"calc(100vw - ".concat(720,"px)")},justifyCo:{justifyContent:"flex-start"},overflowNone:{overflow:"unset",padding:0}}},x=a(16),N=a(162),D=a(163),S=a(164),T=a(52),A=a(166),I=a(165),B=a(3),M=function(e){return{type:"DOWNLOAD_FILE",payload:{download:e}}},H=a(180),L=a(161),K=a(132),z=Object(K.a)({root:{height:"7px","& .MuiLinearProgress-dashedColorSecondary":{backgroundImage:"radial-gradient(#ed3330 0%, #ed3330 1%, transparent 2%)",animation:"none",backgroundColor:"#ed333052"}}});function U(e){var t=z();return n.a.createElement(H.a,{display:"flex",alignItems:"center"},n.a.createElement(H.a,{width:"100%",mr:1},n.a.createElement(L.a,Object.assign({variant:"buffer",color:"secondary",classes:{root:t.root}},e))),n.a.createElement(H.a,{minWidth:40},n.a.createElement(T.a,{variant:"subtitle2"},"".concat(Math.round(10*e.value)/10,"%"))))}var P=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).state={completed:0,buffer:0},r}return Object(p.a)(a,[{key:"calculateBuffer",value:function(){var e=this.props,t=e.totalFeatures,a=e.buffer,r=e.index;return t===r?{completed:0,buffer:0}:{completed:r/t*100,preload:a/t*100}}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.totalFeatures,r=this.calculateBuffer(),o=r.completed,i=r.preload;return 0===a?null:n.a.createElement("div",{className:t.progressbarContainer},n.a.createElement(U,{value:o,valueBuffer:i}))}}]),a}(r.Component),R=Object(O.a)(Object(l.b)((function(e){return{buffer:e.geojsonData.buffer,index:e.geojsonData.index,totalFeatures:e.geojsonData.totalFeatures}}),{}),Object(w.a)(F))(P),W=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).downloadFile=e.downloadFile.bind(Object(x.a)(e)),e}return Object(p.a)(a,[{key:"downloadFile",value:function(){this.props.dispatch(M(!0))}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.fileName,r=0!==e.totalFeatures;return n.a.createElement(N.a,{position:"fixed",className:t.appBar},n.a.createElement(D.a,{className:r?Object(B.a)(t.toolbar):Object(B.a)(t.toolbar,t.justifyCo)},n.a.createElement(S.a,{color:"inherit","aria-label":"open drawer",edge:"start",className:Object(B.a)(t.menuButton)},n.a.createElement(I.a,null)),n.a.createElement(T.a,{variant:"h6",noWrap:!0},"CHIPS-AHOY"),n.a.createElement(T.a,{variant:"subtitle2",className:t.nameFile},a),n.a.createElement(R,null),r?n.a.createElement(A.a,{className:t.button,color:"inherit",onClick:this.downloadFile},"DOWNLOAD"):null))}}]),a}(r.Component),G=Object(O.a)(Object(l.b)((function(e){return{fileName:e.geojsonData.fileName,totalFeatures:e.geojsonData.totalFeatures}})),Object(w.a)(F))(W),J=a(175),X=a(176),q=a(131),V=a(88),Y=a(68),Q=a(89);function Z(e){return function(t,a){var r=a().geojsonData.totalFeatures;if(e<0)return null;r>=e&&e>=0?t({type:"SET_INDEX",payload:{index:e}}):console.log("index out range")}}function $(e,t,a){return function(r){a>=e&&e>=0?r({type:"SET_FEATURE",payload:{feature:t.features[e]}}):console.log("index out range")}}var ee=function(e){return{type:"UPDATE_DATA",payload:{fData:e}}};function te(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(a,r){var n=r().geojsonData,o=n.index,i=n.data,s=n.totalFeatures;e.properties.__reviewed=!0,i.features[o]=e;var c=Object(C.a)({},i);a(ee(c)),a($(o,c,s)),t&&(a(Z(o+1)),a(ae(o,c,s)))}}function ae(e,t,a){return function(r){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:35;return e<=t?e>=t/2?{start:e-5,end:t+5}:{start:e,end:t+5}:{start:e-5,end:e+t-5}}(e),o=n.start,i=n.end;i>=a&&(i=a);var s,c=t.features.slice(o,i),l=[],u=Object(Q.a)(c.entries());try{for(u.s();!(s=u.n()).done;){var _=Object(Y.a)(s.value,2),d=_[0],p=_[1];try{var f=new Image;if(f.src=p.properties.url,f.id="img_".concat(p.properties.url),p.properties.tiles_neighbors)for(var h=0,m=Object.entries(p.properties.tiles_neighbors);h<m.length;h++){var g=Object(Y.a)(m[h],2),v=g[0],b=g[1],E=new Image;E.src=b,E.id="img_".concat(b),E.alt="img_".concat(p.properties.url,"__").concat(v),l.push(E)}l.push(f),r({type:"UPDATE_BUFFER",payload:{buffer:o+d}})}catch(y){console.log(y)}}}catch(j){u.e(j)}finally{u.f()}}}var re=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).state={width:0,height:0,minor:0},r.resizeHandler=r.resizeHandler.bind(Object(x.a)(r)),r.handleImageClick=r.handleImageClick.bind(Object(x.a)(r)),r.renderDot=r.renderDot.bind(Object(x.a)(r)),r}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.resizeHandler(),window.addEventListener("resize",this.resizeHandler)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resizeHandler)}},{key:"resizeHandler",value:function(){var e=this.divElement.clientWidth,t=this.divElement.clientHeight,a=e;e>=t&&(a=t),this.setState({width:e,height:t,minor:a})}},{key:"handleImageClick",value:function(e){e.stopPropagation();var t=this.props,a=t.feature,r=t.updateFeature,n=Object(a);n.properties.timestamp=Date.now(),r(n,!0)}},{key:"renderDot",value:function(){var e=this.props,t=e.feature,a=e.classes,r=this.state.minor;if(!(t&&t.properties.pointScale&&t.properties.sizeImage))return null;var o=t.properties,i=o.pointScale,s=r/o.sizeImage.width;return n.a.createElement("p",{className:a.dot,style:{top:s*i.y,left:s*i.x-20}},"X")}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,r=t.feature,o=this.state.minor;return n.a.createElement("div",{className:a.content,ref:function(t){e.divElement=t}},r&&r.properties.url?n.a.createElement(n.a.Fragment,null,n.a.createElement("img",{ref:function(t){e.image=t},src:r.properties.url,onClick:this.handleImageClick,width:o,alt:"img"}),this.renderDot()):null)}}]),a}(r.Component),ne={updateFeature:te},oe=Object(O.a)(Object(l.b)((function(e){return{feature:e.geojsonData.feature,index:e.geojsonData.index,totalFeatures:e.geojsonData.totalFeatures}}),ne),Object(w.a)((function(){return{content:{position:"relative",width:"auto",height:"calc(100vh - 85px - 32px)"},dot:{userSelect:"none",position:"absolute",margin:0,padding:0,fontSize:60,color:"#00FF00",height:0,width:0,lineHeight:0,letterSpacing:0,fontWeight:400}}})))(re),ie=a(182),se=a(167),ce=a(168),le=a(169),ue=a(170),_e=a(171),de=a(172),pe=a(173),fe=a(179),he=a(174),me=a(4);var ge=a(90),ve=a.n(ge),be=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).onFilesChange=r.onFilesChange.bind(Object(x.a)(r)),r}return Object(p.a)(a,[{key:"onFilesChange",value:function(e){this.props.dispatch(function(e){return function(t){t({type:"FETCH_DATA_BEGIN"});var a=new FileReader;a.onload=function(){var r=JSON.parse(a.result),n=(r.features||[]).length;t(function(e,t,a){return{type:"FETCH_DATA_SUCCESS",payload:{fData:e,fileName:t,totalFeatures:a}}}(r,function(e){var t=e.replace(/ /g,"").split(".").slice(0,-1).join("_"),a="."+e.split(".").slice(-1)[0];return t.includes("(")&&(t=t.split("(").slice(0,-1).join("_")),t+a}(e[0].name),n)),t(Z(0)),t($(0,r,n))},a.readAsText(e[0])}}(e))}},{key:"onFilesError",value:function(e){console.error("error code "+e.code+": "+e.message)}},{key:"render",value:function(){var e=this.props.classes;return n.a.createElement("div",{className:e.container},n.a.createElement(T.a,{variant:"caption",display:"block",gutterBottom:!0},"Load geojson file"),n.a.createElement(q.a,null,n.a.createElement(ve.a,{className:"files-dropzone-list",onChange:this.onFilesChange,onError:this.onFilesError,accepts:[".geojson",".json"],maxFiles:1,maxFileSize:1e9,minFileSize:0,clickable:!0},n.a.createElement("input",{type:"submit",value:"Choose a file",style:{width:"96%",margin:"5px"}}))))}}]),a}(r.Component),Ee=Object(O.a)(Object(l.b)(null),Object(me.a)((function(e){return{container:{height:250,padding:e.spacing(2)}}})))(be),ye=a(181),je=(Math.PI,Object(me.a)({root:{paddingBottom:4,paddingTop:4}})((function(e){return n.a.createElement(ie.a,e)}))),we=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).state={value:"",focus_tab:0,prop_feature__vacant_lots__paved:!1,prop_feature__vacant_lots__unpaved:!1,prop_feature__vacant_lots__overgrown:!1,prop_feature__vacant_lots__fenced:!1,prop_feature__vacant_lots__side_fences_only:!1,prop_feature__vacant_lots__construction_activity:!1,prop_feature__vacant_lots__litter_dumping_tires:!1,prop_feature__structures__damaged_roof:!1,prop_feature__structures__broken_windows_doors:!1,prop_feature__structures__missing_windows_doors:!1,prop_feature__structures__boarded_up_windows_doors:!1,prop_feature__structures__overgrown_lawn:!1,prop_feature__structures__overgrown_shrubbery_trees:!1,prop_feature__structures__structural_issues:!1,prop_feature__structures__faded_paint:!1,prop_feature__structures__litter_in_around_structure:!1,prop_feature__structures__abandoned_vehicle:!1},e.handleChange=e.handleChange.bind(Object(x.a)(e)),e.handleChangeTab=e.handleChangeTab.bind(Object(x.a)(e)),e.handleChangeCheck=e.handleChangeCheck.bind(Object(x.a)(e)),e}return Object(p.a)(a,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.feature;if(t&&t.properties){var a=Object.keys(t.properties||{}).sort().filter((function(e){return e.includes("prop_feature")})).reduce((function(e,a){return Object(C.a)(Object(C.a)({},e),{},Object(k.a)({},a,t.properties[a]))}),{}),r=Object(C.a)({prop_feature__vacant_lots__paved:!1,prop_feature__vacant_lots__unpaved:!1,prop_feature__vacant_lots__overgrown:!1,prop_feature__vacant_lots__fenced:!1,prop_feature__vacant_lots__side_fences_only:!1,prop_feature__vacant_lots__construction_activity:!1,prop_feature__vacant_lots__litter_dumping_tires:!1,prop_feature__structures__damaged_roof:!1,prop_feature__structures__broken_windows_doors:!1,prop_feature__structures__missing_windows_doors:!1,prop_feature__structures__boarded_up_windows_doors:!1,prop_feature__structures__overgrown_lawn:!1,prop_feature__structures__overgrown_shrubbery_trees:!1,prop_feature__structures__structural_issues:!1,prop_feature__structures__faded_paint:!1,prop_feature__structures__litter_in_around_structure:!1,prop_feature__structures__abandoned_vehicle:!1},a);this.setState(Object(C.a)({},r))}}},{key:"handleChangeTab",value:function(e,t){this.setState({focus_tab:t})}},{key:"handleChange",value:function(e){var t=this.props.total,a=e.target.value;(""===a||/[0-9]+/g.test(a))&&t>=(a=parseInt(a))&&a>=0&&this.props.dispatch(Z(a))}},{key:"handleChangeCheck",value:function(e){var t=this.props,a=t.feature,r=t.updateFeature;this.setState(Object(k.a)({},e.target.name,e.target.checked));var n=Object(a),o=!!n.properties[e.target.name];n.properties[e.target.name]=!o,n.properties.uuid_difference=Object(ye.a)(),["sizeImage"].forEach((function(e){n.properties[e]&&delete n.properties[e]})),r(n)}},{key:"convertSecondaryText",value:function(e){return["",null,void 0].includes(e)?"":"object"==="".concat(typeof e)?JSON.stringify(e):"".concat(e)}},{key:"renderProperties",value:function(){var e=this,t=this.props,a=t.classes,r=t.feature;if(!r||!r.properties)return null;var o=r.properties.uuid_difference||Object(ye.a)(),i=Object.keys(r.properties||{}).sort().filter((function(e){return e.includes("prop_feature")})).map((function(e){return{key:"".concat(e),value:r.properties[e]}}));return n.a.createElement(n.a.Fragment,null,i.map((function(t,r){return n.a.createElement(se.a,{key:"li-".concat(o,"-").concat(r),className:a.lItem},n.a.createElement(ce.a,{classes:t.key.includes("__")?{secondary:a.secondaryText}:null,primary:"".concat(t.key).replace("prop_feature__","")}),n.a.createElement(le.a,null,n.a.createElement(T.a,{variant:"body1",component:"span",color:"textSecondary"},e.convertSecondaryText(t.value))))})))}},{key:"renderFeature",value:function(){var e=this.props,t=e.classes,a=e.feature;return a&&a.properties?n.a.createElement(n.a.Fragment,null,n.a.createElement(se.a,null,n.a.createElement(ce.a,{primary:"Properties",classes:{primary:t.primaryText}})),this.renderProperties()):null}},{key:"renderCheckboxs",value:function(){var e=this.props.classes,t=this.state,a=t.prop_feature__vacant_lots__paved,r=t.prop_feature__vacant_lots__unpaved,o=t.prop_feature__vacant_lots__overgrown,i=t.prop_feature__vacant_lots__fenced,s=t.prop_feature__vacant_lots__side_fences_only,c=t.prop_feature__vacant_lots__construction_activity,l=t.prop_feature__vacant_lots__litter_dumping_tires,u=t.prop_feature__structures__damaged_roof,_=t.prop_feature__structures__broken_windows_doors,d=t.prop_feature__structures__missing_windows_doors,p=t.prop_feature__structures__boarded_up_windows_doors,f=t.prop_feature__structures__overgrown_lawn,h=t.prop_feature__structures__overgrown_shrubbery_trees,m=t.prop_feature__structures__structural_issues,g=t.prop_feature__structures__faded_paint,v=t.prop_feature__structures__litter_in_around_structure,b=t.prop_feature__structures__abandoned_vehicle;return n.a.createElement("div",{className:e.canvasContainer},n.a.createElement(ue.a,{size:"small"},n.a.createElement("label",{className:e.label},"Vacant lots"),n.a.createElement(_e.a,null,n.a.createElement(de.a,{control:n.a.createElement(je,{checked:a,onChange:this.handleChangeCheck,name:"prop_feature__vacant_lots__paved"}),label:"Paved"}),n.a.createElement(de.a,{control:n.a.createElement(je,{checked:r,onChange:this.handleChangeCheck,name:"prop_feature__vacant_lots__unpaved"}),label:"Unpaved"}),n.a.createElement(de.a,{control:n.a.createElement(je,{checked:o,onChange:this.handleChangeCheck,name:"prop_feature__vacant_lots__overgrown"}),label:"Overgrown"}),n.a.createElement(de.a,{control:n.a.createElement(je,{checked:i,onChange:this.handleChangeCheck,name:"prop_feature__vacant_lots__fenced"}),label:"Fenced"}),n.a.createElement(de.a,{control:n.a.createElement(je,{checked:s,onChange:this.handleChangeCheck,name:"prop_feature__vacant_lots__side_fences_only"}),label:"Side Fences only"}),n.a.createElement(de.a,{control:n.a.createElement(je,{checked:c,onChange:this.handleChangeCheck,name:"prop_feature__vacant_lots__construction_activity"}),label:"Construction activity"}),n.a.createElement(de.a,{control:n.a.createElement(je,{checked:l,onChange:this.handleChangeCheck,name:"prop_feature__vacant_lots__litter_dumping_tires"}),label:"Litter/dumping/Tires"})),n.a.createElement("label",{className:e.label},"Structures"),n.a.createElement(pe.a,null),n.a.createElement(_e.a,null,n.a.createElement(de.a,{control:n.a.createElement(je,{checked:u,onChange:this.handleChangeCheck,name:"prop_feature__structures__damaged_roof"}),label:"Damaged roof"}),n.a.createElement(de.a,{control:n.a.createElement(je,{checked:_,onChange:this.handleChangeCheck,name:"prop_feature__structures__broken_windows_doors"}),label:"Broken windows / doors"}),n.a.createElement(de.a,{control:n.a.createElement(je,{checked:d,onChange:this.handleChangeCheck,name:"prop_feature__structures__missing_windows_doors"}),label:"Missing windows / doors"}),n.a.createElement(de.a,{control:n.a.createElement(je,{checked:p,onChange:this.handleChangeCheck,name:"prop_feature__structures__boarded_up_windows_doors"}),label:"Boarded up windows / doors"}),n.a.createElement(de.a,{control:n.a.createElement(je,{checked:f,onChange:this.handleChangeCheck,name:"prop_feature__structures__overgrown_lawn"}),label:"Overgrown lawn "}),n.a.createElement(de.a,{control:n.a.createElement(je,{checked:h,onChange:this.handleChangeCheck,name:"prop_feature__structures__overgrown_shrubbery_trees"}),label:"Overgrown shrubbery/trees"}),n.a.createElement(de.a,{control:n.a.createElement(je,{checked:m,onChange:this.handleChangeCheck,name:"prop_feature__structures__structural_issues"}),label:"Structural issues"}),n.a.createElement(de.a,{control:n.a.createElement(je,{checked:g,onChange:this.handleChangeCheck,name:"prop_feature__structures__faded_paint"}),label:"Faded paint"}),n.a.createElement(de.a,{control:n.a.createElement(je,{checked:v,onChange:this.handleChangeCheck,name:"prop_feature__structures__litter_in_around_structure"}),label:"Litter in / around structure"}),n.a.createElement(de.a,{control:n.a.createElement(je,{checked:b,onChange:this.handleChangeCheck,name:"prop_feature__structures__abandoned_vehicle"}),label:"Abandoned vehicle"}))))}},{key:"renderTabs",value:function(){var e=this.props,t=e.classes,a=e.feature,r=e.total;return a&&0!==r?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:t.tabContainer},this.renderCheckboxs()),n.a.createElement(pe.a,null)):null}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.total,r=e.index,o=e.feature;return n.a.createElement("div",{className:t.container},o?null:n.a.createElement(Ee,null),o?n.a.createElement("div",{className:t.paddinBox},n.a.createElement(fe.a,{id:"index",label:"Index",onChange:this.handleChange,value:r,type:"number"}),n.a.createElement(pe.a,null)):null,this.renderTabs(),n.a.createElement(he.a,{component:"div",className:t.listfeatures},0!==a?n.a.createElement(se.a,{className:t.lItem},n.a.createElement(ce.a,{primary:"Total"}),n.a.createElement(le.a,null,n.a.createElement(T.a,{variant:"body1",component:"span",color:"textSecondary"},a))):null,this.renderFeature()))}}]),a}(r.Component),Oe={updateFeature:te},Ce=Object(O.a)(Object(l.b)((function(e){return{total:e.geojsonData.totalFeatures,index:e.geojsonData.index,feature:e.geojsonData.feature,data:e.geojsonData.data}}),Oe),Object(me.a)((function(e){return{container:{display:"flex",flex:1,flexDirection:"column",alignContent:"center",justifyContent:"flex-start",alignItems:"stretch"},listfeatures:{display:"flex",flexDirection:"column",maxHeight:"calc(100vh - 64px - 32px - 70px - ".concat(650,"px - ").concat(93.5,"px)"),overflow:"auto",width:"100%",padding:e.spacing(2),paddingRight:0},tabContainer:{minHeight:655,padding:0},chartContainer:{height:650,padding:0},lItem:{paddingBottom:0,paddingRight:0,paddingLeft:0,wordWrap:"break-word"},primaryText:{textAlign:"center",color:"#808080"},secondaryText:{color:"red",fontSize:"1rem"},paddinBox:{padding:e.spacing(2)},canvasContainer:{textAlign:"left",padding:8,height:650},image:{maxHeight:650},tableSmall:{overflow:"hidden",height:650,position:"relative",width:"auto",pointerEvents:"none"},label:{fontSize:"1rem",fontWeight:600},tableBig:{height:1650,width:1650,display:"grid",gridTemplateColumns:"repeat(3, ".concat(550,"px)"),gridTemplateRows:"repeat(3, ".concat(550,"px)"),gridColumnGap:0,gridRowGap:0,overflow:"hidden",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",pointerEvents:"none"},div1:{gridArea:"1 / 1 / 2 / 2",border:"1px solid red",pointerEvents:"none"},div2:{gridArea:"1 / 2 / 2 / 3",border:"1px solid red",pointerEvents:"none"},div3:{gridArea:"1 / 3 / 2 / 4",border:"1px solid red",pointerEvents:"none"},div4:{gridArea:"2 / 1 / 3 / 2",border:"1px solid red",pointerEvents:"none"},div5:{gridArea:"2 / 2 / 3 / 3",border:"1px solid red",pointerEvents:"none"},div6:{gridArea:"2 / 3 / 3 / 4",border:"1px solid red",pointerEvents:"none"},div7:{gridArea:"3 / 1 / 4 / 2",border:"1px solid red",pointerEvents:"none"},div8:{gridArea:"3 / 2 / 4 / 3",border:"1px solid red",pointerEvents:"none"},div9:{gridArea:"3 / 3 / 4 / 4",border:"1px solid red",pointerEvents:"none"}}})))(we),ke=a(15),Fe=(a(124),function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).save=r.save.bind(Object(x.a)(r)),r.keyFunction=r.keyFunction.bind(Object(x.a)(r)),r.updateFeatureKey=r.updateFeatureKey.bind(Object(x.a)(r)),r}return Object(p.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyFunction,!1)}},{key:"updateFeatureKey",value:function(e){var t=this.props,a=t.feature,r=t.updateFeature;if(a){var n=Object(a),o=!!n.properties[e];n.properties[e]=!o,n.properties.uuid_difference=Object(ye.a)(),["sizeImage"].forEach((function(e){n.properties[e]&&delete n.properties[e]})),r(n)}}},{key:"keyFunction",value:function(e){var t=this.props,a=t.updateIndex,r=t.index,n=t.totalFeatures,o=e.shiftKey,i="".concat(e.key).toLocaleLowerCase();if(n){switch(i){case"arrowright":case"2":a(r+1);break;case"arrowleft":case"1":a(r-1)}"q"!==i||o||(ke.NotificationManager.success("Paved","vacant_lots",1800),this.updateFeatureKey("prop_feature__vacant_lots__paved")),"w"!==i||o||(ke.NotificationManager.success("Info Unpaved","vacant_lots",1800),this.updateFeatureKey("prop_feature__vacant_lots__unpaved")),"e"!==i||o||(ke.NotificationManager.success("Info Overgrown","vacant_lots",1800),this.updateFeatureKey("prop_feature__vacant_lots__overgrown")),"a"!==i||o||(ke.NotificationManager.success("Fenced","vacant_lots",1800),this.updateFeatureKey("prop_feature__vacant_lots__fenced")),"s"!==i||o||(ke.NotificationManager.success("Side Fences only","vacant_lots",1800),this.updateFeatureKey("prop_feature__vacant_lots__side_fences_only")),"d"!==i||o||(ke.NotificationManager.success("Construction activity","vacant_lots",1800),this.updateFeatureKey("prop_feature__vacant_lots__construction_activity")),"z"!==i||o||(ke.NotificationManager.success("Litter/dumping/Tires","vacant_lots",1800),this.updateFeatureKey("prop_feature__vacant_lots__litter_dumping_tires")),"q"===i&&o&&(ke.NotificationManager.info("Damaged roof","structures",1800),this.updateFeatureKey("prop_feature__structures__damaged_roof")),"w"===i&&o&&(ke.NotificationManager.info("Broken windows / doors ","structures",1800),this.updateFeatureKey("prop_feature__structures__broken_windows_doors")),"e"===i&&o&&(ke.NotificationManager.info("Missing windows / doors","structures",1800),this.updateFeatureKey("prop_feature__structures__missing_windows_doors")),"a"===i&&o&&(ke.NotificationManager.info("Boarded up windows / doors ","structures",1800),this.updateFeatureKey("prop_feature__structures__boarded_up_windows_doors")),"s"===i&&o&&(ke.NotificationManager.info("Overgrown lawn ","structures",1800),this.updateFeatureKey("prop_feature__structures__overgrown_lawn")),"d"===i&&o&&(ke.NotificationManager.info("Overgrown shrubbery/trees","structures",1800),this.updateFeatureKey("prop_feature__structures__overgrown_shrubbery_trees")),"z"===i&&o&&(ke.NotificationManager.info("Structural issues ","structures",1800),this.updateFeatureKey("prop_feature__structures__structural_issues")),"x"===i&&o&&(ke.NotificationManager.info("Faded paint","structures",1800),this.updateFeatureKey("prop_feature__structures__faded_paint")),"c"===i&&o&&(ke.NotificationManager.info("Litter in / around structure","structures",1800),this.updateFeatureKey("prop_feature__structures__litter_in_around_structure")),"v"===i&&o&&(ke.NotificationManager.info("Abandoned vehicle","structures",1800),this.updateFeatureKey("prop_feature__structures__abandoned_vehicle")),console.log(" key",i,"shiftKey",o)}}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props,a=t.index,r=t.data,n=t.totalFeatures,o=t.downloadGeojsonFile,i=t.fetchFeature;e.index!==a&&i(e.index,r,n),e.downloadFile&&(this.save(),o(!1))}},{key:"save",value:function(){var e=this.props,t=e.data,a=e.fileName;if(t&&t.features){var r=new Blob([JSON.stringify(t)],{type:"application/json;charset=utf-8"});Object(V.saveAs)(r,a)}}},{key:"render",value:function(){var e=this.props,t=e.classes,a=(e.feature,Object(B.a)(t.paper,t.fixedHeight));return n.a.createElement("main",{className:t.content},n.a.createElement(J.a,{maxWidth:"xl",className:t.container},n.a.createElement(X.a,{container:!0,spacing:1},n.a.createElement(X.a,{item:!0,xs:12,sm:6,md:9,lg:9,xl:8},n.a.createElement(q.a,{className:a,elevation:3},n.a.createElement(oe,null))),n.a.createElement(X.a,{item:!0,xs:12,sm:6,md:3,lg:3,xl:4},n.a.createElement(q.a,{className:Object(B.a)(a,t.overflowNone),elevation:3},n.a.createElement(Ce,null)))),n.a.createElement(ke.NotificationContainer,null)))}}]),a}(r.Component)),xe={downloadGeojsonFile:M,fetchFeature:$,updateIndex:Z,updateFeature:te},Ne=Object(O.a)(Object(l.b)((function(e){return{data:e.geojsonData.data,feature:e.geojsonData.feature,index:e.geojsonData.index,totalFeatures:e.geojsonData.totalFeatures,fileName:e.geojsonData.fileName,downloadFile:e.control.downloadFile}}),xe),Object(w.a)(F))(Fe),De=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).state={},r}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.classes;return n.a.createElement("div",{className:e.root},n.a.createElement(G,{handleDrawerOpen:this.handleDrawerOpen}),n.a.createElement(Ne,null))}}]),a}(r.Component),Se=Object(O.a)(Object(l.b)((function(){return{}})),Object(w.a)(F))(De),Te=Object(y.a)({palette:{primary:g.a,secondary:b.a}}),Ae=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return n.a.createElement(j.a,{theme:Te},n.a.createElement(E.a,null),n.a.createElement(Se,null))}}]),a}(r.Component),Ie=a(37),Be=a(93),Me=a(94),He=a.n(Me),Le={downloadFile:!1};var Ke={data:{features:[]},feature:null,loading:!0,error:null,fileName:"",index:0,totalFeatures:0,buffer:0};var ze=Object(Ie.c)({geojsonData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_DATA_BEGIN":return Object(C.a)(Object(C.a)({},e),{},{loading:!0,error:null});case"FETCH_DATA_SUCCESS":return Object(C.a)(Object(C.a)({},e),{},{loading:!1,data:t.payload.fData,fileName:t.payload.fileName,totalFeatures:t.payload.totalFeatures});case"FETCH_DATA_FAILURE":return Object(C.a)(Object(C.a)({},e),{},{loading:!1,error:t.payload.error,data:{}});case"SET_INDEX":return Object(C.a)(Object(C.a)({},e),{},{index:t.payload.index});case"SET_FEATURE":return Object(C.a)(Object(C.a)({},e),{},{feature:t.payload.feature});case"UPDATE_DATA":return Object(C.a)(Object(C.a)({},e),{},{data:t.payload.fData});case"UPDATE_FEATURE":return Object(C.a)(Object(C.a)({},e),{},{feature:t.payload.feature});case"UPDATE_BUFFER":return Object(C.a)(Object(C.a)({},e),{},{buffer:t.payload.buffer});default:return e}},control:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DOWNLOAD_FILE":return Object(C.a)(Object(C.a)({},e),{},{downloadFile:t.payload.download});default:return e}}}),Ue=[Be.a,He.a],Pe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ie.d,Re=Object(Ie.e)(ze,Pe(Ie.a.apply(void 0,Ue)));i.a.render(n.a.createElement(c.a,null,n.a.createElement(l.a,{store:Re},n.a.createElement(u.a,{basename:"/chips-ahoy"},n.a.createElement(_.c,null,n.a.createElement(_.a,{exact:!0,component:Ae,path:"/"}))))),document.getElementById("root"))}},[[107,1,2]]]);
//# sourceMappingURL=main.17ee2bf3.chunk.js.map