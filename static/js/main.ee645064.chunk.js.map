{"version":3,"sources":["style/HomeStyles.js","actions/controlAction.js","components/ProgressBar.js","components/Header.js","actions/dataActions.js","utils/validate.js","components/PaperImage.js","components/Loadfile.js","components/SidePanel.js","components/MainPage.js","utils/utils.js","components/Home.js","App.js","reducers/controlReducers.js","reducers/dataReducer.js","reducers/index.js","store/index.js","index.js"],"names":["styles","theme","_toolbar","root","display","appBar","transition","transitions","create","easing","sharp","duration","leavingScreen","flexGrow","background","appBarShift","width","concat","marginLeft","easeOut","enteringScreen","toolbar","minHeight","_defineProperty","breakpoints","up","menuButton","marginRight","spacing","hide","drawer","flexShrink","drawerPaper","drawerHeader","_objectSpread","alignItems","padding","mixins","justifyContent","backgroundColor","palette","primary","main","height","content","overflow","contentShift","container","marginTop","paddingTop","paddingBottom","button","color","textTransform","textDecoration","border","textAlign","nameFile","paper","flexDirection","fixedHeight","headerHeigth","progressbarContainer","position","drawerWidth","justifyCo","overflowNone","downloadGeojsonFile","download","type","payload","useStyles","makeStyles","backgroundImage","animation","LinearProgressWithLabel","props","classes","React","createElement","Box","mr","LinearProgress","Object","assign","variant","minWidth","Typography","Math","round","value","ProgressBar","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","call","state","completed","buffer","_createClass","key","_this$props","this","totalFeatures","index","preload","_this$props2","_this$calculateBuffer","calculateBuffer","className","valueBuffer","Component","compose","connect","geojsonData","withStyles","Header","downloadFile","bind","_assertThisInitialized","dispatch","fileName","hasFeatures","AppBar","Toolbar","clsx","IconButton","aria-label","edge","Weekend","noWrap","Button","onClick","updateIndex","newIndex","getState","console","log","fetchFeature","data","feature","features","updateData","fData","updateFeature","newFeature","next_page","arguments","length","undefined","_getState$geojsonData","properties","__reviewed","newData","preloadImages","_rangeImages","range","start","end","rangeImages","_step","data_tmp","slice","gridImagesDiv","_iterator","_createForOfIteratorHelper","entries","s","n","done","_step$value","_slicedToArray","i","geo","img","Image","src","url","id","tiles_neighbors","_i","_Object$entries","_Object$entries$_i","keyTiNe","valueTiNe","img_ti_ne","alt","push","error","err","e","f","PaperImage","minor","resizeHandler","handleImageClick","renderDot","window","addEventListener","removeEventListener","divElement","clientWidth","clientHeight","setState","stopPropagation","newFature","timestamp","Date","now","pointScale","sizeImage","_feature$properties","scaleX","dot","style","top","y","left","x","_this2","_this$props3","ref","Fragment","c","image","mapDispatchToProps","userSelect","margin","fontSize","lineHeight","letterSpacing","fontWeight","Loadfile","onFilesChange","files","fileReader","FileReader","onload","geojson","JSON","parse","result","total","fetchDataSuccess","newName","replace","split","join","ext","includes","validateFileName","name","readAsText","fetchData","code","message","gutterBottom","Paper","Files","onChange","onError","onFilesError","accepts","maxFiles","maxFileSize","minFileSize","clickable","CustomCheckBox","Checkbox","SidePanel","focus_tab","prop_feature__vacant_lots__paved","prop_feature__vacant_lots__unpaved","prop_feature__vacant_lots__overgrown_lawn","prop_feature__vacant_lots__overgrown_shrubbery_trees","prop_feature__vacant_lots__fenced","prop_feature__vacant_lots__litter_dumping_tires","prop_feature__vacant_lots__litter_garbage","prop_feature__vacant_lots__litter_bush","prop_feature__structures__damaged_roof","prop_feature__structures__broken_missing_windows_doors","prop_feature__structures__boarded_up_windows_doors","prop_feature__structures__overgrown_lawn","prop_feature__structures__overgrown_shrubbery_trees","prop_feature__structures__structural_issues","prop_feature__structures__faded_paint","prop_feature__structures__litter_in_around_structure","prop_feature__structures__litter_garbage","prop_feature__structures__litter_bush","handleChange","handleChangeTab","handleChangeCheck","nextProps","props_state","keys","sort","filter","reduce","a","v","initial_state","prop_feature__no_blight__no_structures","prop_feature__no_blight__no_vacant_lots","ev","target","test","parseInt","checked","old_value","uuid_difference","uuidv4","forEach","text","stringify","reverse","map","l","k","ListItem","lItem","ListItemText","lItemText","ListItemSecondaryAction","component","convertSecondaryText","_this$props4","primaryText","renderProperties","_this$state","prop_feature__no_blight__structures_vlots","canvasContainer","FormControl","size","label","FormGroup","FormControlLabel","control","Divider","_this$props5","tabContainer","renderCheckboxs","_this$props6","paddinBox","TextField","renderTabs","List","listfeatures","renderFeature","flex","alignContent","maxHeight","paddingRight","CHECKBOXHEIGHT","chartContainer","paddingLeft","wordWrap","marginBottom","secondaryText","tableSmall","pointerEvents","tableBig","gridTemplateColumns","gridTemplateRows","gridColumnGap","gridRowGap","transform","div1","gridArea","div2","div3","div4","div5","div6","div7","div8","div9","MainPage","save","keyFunction","updateFeatureKey","document","event","shift","shiftKey","toLocaleLowerCase","has_modifications","_loop","some","j","getNextIndex","_toConsumableArray","_loop2","getPrevIndex","dataUpdate","feat","prop_feats","feat_cat","sub_category","category","Set","blob","Blob","saveAs","fixedHeightPaper","Container","maxWidth","Grid","item","xs","sm","md","lg","xl","elevation","NotificationContainer","Home","handleDrawerOpen","createMuiTheme","amber","secondary","red","App","apply","ThemeProvider","CssBaseline","initialState","loading","combineReducers","action","middlewareList","thunk","logger","composeEnhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","rootReducer","applyMiddleware","ReactDOM","render","HttpsRedirect","Provider","BrowserRouter","basename","Switch","Route","exact","path","getElementById"],"mappings":"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","file":"static/js/main.ee645064.chunk.js","sourcesContent":["const drawerWidth = 240;\nexport const headerHeigth = 55;\n\nconst styles = (theme) => ({\n  root: {\n    display: 'flex'\n  },\n  appBar: {\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    }),\n    flexGrow: 1,\n    background: 'rgb(250, 250, 250)'\n  },\n  appBarShift: {\n    width: `calc(100% - ${drawerWidth}px)`,\n    marginLeft: drawerWidth,\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen\n    })\n  },\n  toolbar: {\n    minHeight: 56,\n    [theme.breakpoints.up('sm')]: {\n      minHeight: headerHeigth\n    },\n    background: '#ffc107',\n    display: 'flex',\n    flexDirection: 'row',\n    alignContent: 'center',\n    justifyContent: 'space-between',\n    alignItems: 'center'\n  },\n  menuButton: {\n    marginRight: theme.spacing(1)\n  },\n  hide: {\n    display: 'none'\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0\n  },\n  drawerPaper: {\n    width: drawerWidth\n  },\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    ...theme.mixins.toolbar,\n    justifyContent: 'space-between',\n    backgroundColor: theme.palette.primary.main,\n    minHeight: `${headerHeigth}px !important`,\n    height: `${headerHeigth}px !important`\n  },\n  content: {\n    flexGrow: 1,\n    height: '100vh',\n    overflow: 'auto'\n  },\n  contentShift: {\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen\n    }),\n    marginLeft: 0\n  },\n  container: {\n    marginTop: headerHeigth,\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2)\n  },\n  button: {\n    color: '#fff !important',\n    textTransform: 'uppercase',\n    textDecoration: 'none',\n    background: '#ed3330',\n    border: 'none',\n    textAlign: 'center',\n    width: '180px'\n  },\n  nameFile: {\n    marginLeft: '1.5rem',\n    marginRight: '1.5rem'\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: 'flex',\n    overflow: 'auto',\n    flexDirection: 'column'\n  },\n  fixedHeight: {\n    height: `calc(100vh - ${headerHeigth * 1.7}px)`\n  },\n  progressbarContainer: {\n    position: 'relative',\n    marginLeft: 0,\n    width: `calc(100vw - ${drawerWidth * 3}px)`\n  },\n  justifyCo: {\n    justifyContent: 'flex-start'\n  },\n  overflowNone: {\n    overflow: 'unset',\n    padding: 0\n  }\n});\n\nexport default styles;\n","export const DOWNLOAD_FILE = 'DOWNLOAD_FILE';\n\nexport const downloadGeojsonFile = (download) => {\n  return {\n    type: DOWNLOAD_FILE,\n    payload: { download }\n  };\n};\n","import { Box, LinearProgress, Typography } from '@material-ui/core';\nimport { makeStyles, withStyles } from '@material-ui/styles';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'recompose';\n\nimport styles from '../style/HomeStyles';\n\nconst useStyles = makeStyles({\n  root: {\n    height: '7px',\n    '& .MuiLinearProgress-dashedColorSecondary': {\n      backgroundImage: 'radial-gradient(#ed3330 0%, #ed3330 1%, transparent 2%)',\n      animation: 'none',\n      backgroundColor: '#ed333052'\n    }\n  }\n});\n\nfunction LinearProgressWithLabel(props) {\n  const classes = useStyles();\n  return (\n    <Box display=\"flex\" alignItems=\"center\">\n      <Box width=\"100%\" mr={1}>\n        <LinearProgress\n          variant=\"buffer\"\n          color=\"secondary\"\n          classes={{\n            root: classes.root\n          }}\n          {...props}\n        />\n      </Box>\n      <Box minWidth={40}>\n        <Typography variant=\"subtitle2\">{`${Math.round(props.value * 10) / 10}%`}</Typography>\n      </Box>\n    </Box>\n  );\n}\n\nclass ProgressBar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      completed: 0,\n      buffer: 0\n    };\n  }\n\n  calculateBuffer() {\n    const { totalFeatures, buffer, index } = this.props;\n\n    if (totalFeatures === index) {\n      return { completed: 0, buffer: 0 };\n    }\n    const completed = (index / totalFeatures) * 100;\n    const preload = (buffer / totalFeatures) * 100;\n\n    return { completed, preload };\n  }\n\n  render() {\n    const { classes, totalFeatures } = this.props;\n    const { completed, preload } = this.calculateBuffer();\n\n    if (totalFeatures === 0) return null;\n    return (\n      <div className={classes.progressbarContainer}>\n        <LinearProgressWithLabel value={completed} valueBuffer={preload} />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  buffer: state.geojsonData.buffer,\n  index: state.geojsonData.index,\n  totalFeatures: state.geojsonData.totalFeatures\n});\nconst mapDispatchToProps = {};\n\nexport default compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  withStyles(styles)\n)(ProgressBar);\n","import { AppBar, Button, IconButton, Toolbar, Typography } from '@material-ui/core';\nimport { Weekend } from '@material-ui/icons';\nimport { withStyles } from '@material-ui/styles';\nimport clsx from 'clsx';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'recompose';\n\nimport { downloadGeojsonFile } from '../actions/controlAction';\nimport styles from '../style/HomeStyles';\nimport ProgressBar from './ProgressBar';\n\nclass Header extends Component {\n  constructor() {\n    super();\n    this.downloadFile = this.downloadFile.bind(this);\n  }\n\n  downloadFile() {\n    this.props.dispatch(downloadGeojsonFile(true));\n  }\n\n  render() {\n    const { classes, fileName, totalFeatures } = this.props;\n    const hasFeatures = totalFeatures !== 0;\n    return (\n      <AppBar position=\"fixed\" className={classes.appBar}>\n        <Toolbar\n          className={\n            hasFeatures ? clsx(classes.toolbar) : clsx(classes.toolbar, classes.justifyCo)\n          }>\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            edge=\"start\"\n            className={clsx(classes.menuButton)}>\n            <Weekend />\n          </IconButton>\n          <Typography variant=\"h6\" noWrap>\n            CHIPS-AHOY\n          </Typography>\n          <Typography variant=\"subtitle2\" className={classes.nameFile}>\n            {fileName}\n          </Typography>\n          <ProgressBar />\n          {hasFeatures ? (\n            <Button className={classes.button} color=\"inherit\" onClick={this.downloadFile}>\n              DOWNLOAD\n            </Button>\n          ) : null}\n        </Toolbar>\n      </AppBar>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  fileName: state.geojsonData.fileName,\n  totalFeatures: state.geojsonData.totalFeatures\n});\n\nexport default compose(connect(mapStateToProps), withStyles(styles))(Header);\n","import { rangeImages, validateFileName } from '../utils/validate';\n\nexport const FETCH_DATA_BEGIN = 'FETCH_DATA_BEGIN';\nexport const FETCH_DATA_SUCCESS = 'FETCH_DATA_SUCCESS';\nexport const FETCH_DATA_FAILURE = 'FETCH_DATA_FAILURE';\nexport const SET_INDEX = 'SET_INDEX';\nexport const SET_FEATURE = 'SET_FEATURE';\n\nexport const fetchDataBegin = () => ({\n  type: FETCH_DATA_BEGIN\n});\n\nexport const fetchDataSuccess = (fData, fileName, totalFeatures) => {\n  return {\n    type: FETCH_DATA_SUCCESS,\n    payload: { fData, fileName, totalFeatures }\n  };\n};\n\nexport const fetchDataFailure = (error) => ({\n  type: FETCH_DATA_FAILURE,\n  payload: { error }\n});\n\nexport const setIndex = (index) => ({\n  type: SET_INDEX,\n  payload: { index }\n});\n\nexport const setFeature = (feature) => ({\n  type: SET_FEATURE,\n  payload: { feature }\n});\n\nexport function updateIndex(newIndex) {\n  return (dispatch, getState) => {\n    let { totalFeatures } = getState().geojsonData;\n    if (newIndex < 0) return null;\n    if (totalFeatures >= newIndex && newIndex >= 0) {\n      dispatch(setIndex(newIndex));\n    } else {\n      console.log('index out range');\n    }\n  };\n}\n\nexport function fetchData(files) {\n  return (dispatch) => {\n    dispatch(fetchDataBegin());\n    const fileReader = new FileReader();\n    fileReader.onload = function () {\n      const geojson = JSON.parse(fileReader.result);\n      const total = (geojson.features || []).length;\n      dispatch(fetchDataSuccess(geojson, validateFileName(files[0].name), total));\n      dispatch(updateIndex(0));\n      dispatch(fetchFeature(0, geojson, total));\n    };\n    fileReader.readAsText(files[0]);\n  };\n}\n\n//  fetch feature\n\nexport function fetchFeature(index, data, totalFeatures) {\n  return (dispatch) => {\n    if (totalFeatures >= index && index >= 0) {\n      dispatch(setFeature(data.features[index]));\n    } else {\n      console.log('index out range');\n    }\n  };\n}\n\n//  update data\n\nexport const UPDATE_FEATURE = 'UPDATE_FEATURE';\nexport const UPDATE_DATA = 'UPDATE_DATA';\n\nexport const updateData = (fData) => {\n  return {\n    type: UPDATE_DATA,\n    payload: { fData }\n  };\n};\n\nexport function updateFeature(newFeature, next_page = false) {\n  return (dispatch, getState) => {\n    let { index, data, totalFeatures } = getState().geojsonData;\n    newFeature.properties.__reviewed = true;\n    data.features[index] = newFeature;\n    const newData = { ...data };\n    dispatch(updateData(newData));\n    dispatch(fetchFeature(index, newData, totalFeatures));\n    if (next_page) {\n      dispatch(updateIndex(index + 1));\n      dispatch(preloadImages(index, newData, totalFeatures));\n    }\n  };\n}\n\n// preload image\n\nexport const UPDATE_BUFFER = 'UPDATE_BUFFER';\n\nexport const updateBuffer = (buffer) => {\n  return {\n    type: UPDATE_BUFFER,\n    payload: { buffer }\n  };\n};\n\nexport function preloadImages(index, data, totalFeatures) {\n  return (dispatch) => {\n    let { start, end } = rangeImages(index);\n    if (end >= totalFeatures) {\n      end = totalFeatures;\n    }\n    const data_tmp = data.features.slice(start, end);\n    let gridImagesDiv = [];\n    for (var [i, geo] of data_tmp.entries()) {\n      try {\n        let img = new Image();\n        img.src = geo.properties.url;\n        img.id = `${geo.properties.url}`;\n        img.key = `${geo.properties.url}`;\n\n        if (geo.properties.tiles_neighbors) {\n          for (var [keyTiNe, valueTiNe] of Object.entries(geo.properties.tiles_neighbors)) {\n            let img_ti_ne = new Image();\n            img_ti_ne.src = valueTiNe;\n            img_ti_ne.id = `img_${valueTiNe}`;\n            img_ti_ne.alt = `img_${geo.properties.url}__${keyTiNe}`;\n            gridImagesDiv.push(img_ti_ne);\n          }\n        }\n        gridImagesDiv.push(img);\n        dispatch(updateBuffer(start + i));\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  };\n}\n","export function validateFileName(fileName) {\n  let newName = fileName.replace(/ /g, '').split('.').slice(0, -1).join('_');\n  const ext = '.' + fileName.split('.').slice(-1)[0];\n  // buscar si tiene numeros\n  if (newName.includes('(')) {\n    newName = newName.split('(').slice(0, -1).join('_');\n  }\n\n  return newName + ext;\n}\n\nexport function rangeImages(index, range = 35) {\n  if (index <= range) {\n    if (index >= range / 2) {\n      return { start: index - 5, end: range + 5 };\n    }\n    return { start: index, end: range + 5 };\n  }\n\n  return { start: index - 5, end: index + range - 5 };\n}\n","/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport { withStyles } from '@material-ui/styles';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'recompose';\n\nimport { updateFeature } from '../actions/dataActions';\n\nconst styles = () => ({\n  content: {\n    position: 'relative',\n    width: 'auto',\n    height: `calc(100vh - 85px - 32px)`,\n    textAlign: 'end'\n  },\n  dot: {\n    userSelect: 'none',\n    position: 'absolute',\n    margin: 0,\n    padding: 0,\n    fontSize: 60,\n    color: '#00FF00',\n    height: 0,\n    width: 0,\n    lineHeight: 0,\n    letterSpacing: 0,\n    fontWeight: 400\n  }\n});\nclass PaperImage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      width: 0,\n      height: 0,\n      minor: 0\n    };\n    this.resizeHandler = this.resizeHandler.bind(this);\n    this.handleImageClick = this.handleImageClick.bind(this);\n    this.renderDot = this.renderDot.bind(this);\n  }\n\n  componentDidMount() {\n    this.resizeHandler();\n    window.addEventListener('resize', this.resizeHandler);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.resizeHandler);\n  }\n\n  resizeHandler() {\n    const width = this.divElement.clientWidth;\n    const height = this.divElement.clientHeight;\n    let minor = width;\n    if (width >= height) {\n      minor = height;\n    }\n    this.setState({ width, height, minor });\n  }\n\n  handleImageClick(e) {\n    e.stopPropagation();\n\n    const { feature, updateFeature } = this.props;\n\n    // const currentCoord = { x: e.clientX, y: e.clientY };\n    // const rect = this.image.getBoundingClientRect();\n    // const x = e.clientX - rect.left;\n    // const y = e.clientY - rect.top;\n    // //  scale image\n    // // currentWith/natutalWith\n    // const scale = e.currentTarget.width / e.currentTarget.naturalWidth;\n    // //  scale add properties\n    let newFature = Object(feature);\n    newFature.properties.timestamp = Date.now();\n    // newFature.properties.dc_has_pattern_school = 'yes';\n    // newFature.properties.pointScale = Object({ x: x / scale, y: y / scale });\n    // newFature.properties.sizeImage = Object({\n    //   width: e.currentTarget.naturalWidth,\n    //   height: e.currentTarget.naturalHeight\n    // });\n\n    updateFeature(newFature, true);\n  }\n\n  renderDot() {\n    const { feature, classes } = this.props;\n    const { minor } = this.state;\n\n    if (!(feature && feature.properties.pointScale && feature.properties.sizeImage)) return null;\n    const { pointScale, sizeImage } = feature.properties;\n    const scaleX = minor / sizeImage.width;\n\n    return (\n      <p\n        className={classes.dot}\n        style={{ top: scaleX * pointScale.y, left: scaleX * pointScale.x - 20 }}>\n        X\n      </p>\n    );\n  }\n\n  render() {\n    const { classes, feature } = this.props;\n    // console.log(width, height, minor);\n    return (\n      <div\n        className={classes.content}\n        ref={(divElement) => {\n          this.divElement = divElement;\n        }}>\n        {feature && feature.properties.url ? (\n          <>\n            <img\n              ref={(c) => {\n                this.image = c;\n              }}\n              key={feature.properties.url}\n              src={feature.properties.url}\n              id={feature.properties.url}\n              onClick={this.handleImageClick}\n              width=\"100%\"\n              alt=\"img\"\n            />\n            {this.renderDot()}\n          </>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  feature: state.geojsonData.feature,\n  index: state.geojsonData.index,\n  totalFeatures: state.geojsonData.totalFeatures\n});\n\nconst mapDispatchToProps = {\n  updateFeature\n};\n\nexport default compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  withStyles(styles)\n)(PaperImage);\n","import Paper from '@material-ui/core/Paper';\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport React, { Component } from 'react';\nimport Files from 'react-files';\nimport { connect } from 'react-redux';\nimport { compose } from 'recompose';\n\nimport { fetchData } from './../actions/dataActions';\n\nconst styles = (theme) => ({\n  container: {\n    height: 250,\n    padding: theme.spacing(2)\n  }\n});\nclass Loadfile extends Component {\n  constructor(props) {\n    super(props);\n    this.onFilesChange = this.onFilesChange.bind(this);\n  }\n\n  onFilesChange(files) {\n    this.props.dispatch(fetchData(files));\n  }\n\n  onFilesError(error) {\n    console.error('error code ' + error.code + ': ' + error.message);\n  }\n\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <div className={classes.container}>\n        <Typography variant=\"caption\" display=\"block\" gutterBottom>\n          Load geojson file\n        </Typography>\n        <Paper>\n          <Files\n            className=\"files-dropzone-list\"\n            onChange={this.onFilesChange}\n            onError={this.onFilesError}\n            accepts={['.geojson', '.json']}\n            maxFiles={1}\n            maxFileSize={1000000000}\n            minFileSize={0}\n            clickable>\n            <input type=\"submit\" value=\"Choose a file\" style={{ width: '96%', margin: '5px' }} />\n          </Files>\n        </Paper>\n      </div>\n    );\n  }\n}\n\nexport default compose(connect(null), withStyles(styles))(Loadfile);\n","import {\n  Checkbox,\n  Divider,\n  FormControl,\n  FormControlLabel,\n  FormGroup,\n  List,\n  ListItem,\n  ListItemSecondaryAction,\n  ListItemText,\n  TextField,\n  Typography\n} from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'recompose';\nimport { v4 as uuidv4 } from 'uuid';\n\nimport { updateFeature, updateIndex } from '../actions/dataActions';\nimport { headerHeigth } from '../style/HomeStyles';\nimport Loadfile from './Loadfile';\n\nconst CHECKBOXHEIGHT = 530;\nconst IMAGE_SCALE = 100;\n\nconst styles = (theme) => ({\n  container: {\n    display: 'flex',\n    flex: 1,\n    flexDirection: 'column',\n    alignContent: 'center',\n    justifyContent: 'flex-start',\n    alignItems: 'stretch'\n  },\n  listfeatures: {\n    display: 'flex',\n    flexDirection: 'column',\n    maxHeight: `calc(100vh - 64px - 32px - 70px - ${CHECKBOXHEIGHT}px - ${headerHeigth * 1.7}px)`,\n    overflow: 'auto',\n    width: '100%',\n    padding: theme.spacing(2),\n    paddingRight: 0\n  },\n  tabContainer: {\n    minHeight: CHECKBOXHEIGHT + 5,\n    padding: 0\n  },\n  chartContainer: {\n    height: CHECKBOXHEIGHT,\n    padding: 0\n  },\n  lItem: {\n    paddingBottom: 2,\n    paddingRight: 0,\n    paddingLeft: 0,\n    paddingTop: 2,\n\n    wordWrap: 'break-word'\n  },\n  lItemText: {\n    marginBottom: 2,\n    marginTop: 2\n  },\n  primaryText: {\n    textAlign: 'center',\n    color: '#808080'\n  },\n  secondaryText: {\n    color: 'red',\n    fontSize: '1rem'\n  },\n  paddinBox: {\n    padding: theme.spacing(2)\n  },\n  canvasContainer: {\n    textAlign: 'left',\n    padding: 8\n    // height: CHECKBOXHEIGHT\n  },\n  image: {\n    maxHeight: CHECKBOXHEIGHT\n  },\n  tableSmall: {\n    overflow: 'hidden',\n    height: CHECKBOXHEIGHT,\n    position: 'relative',\n    width: 'auto',\n    pointerEvents: 'none'\n  },\n  label: {\n    fontSize: '1rem',\n    fontWeight: 600\n  },\n  tableBig: {\n    height: (CHECKBOXHEIGHT - IMAGE_SCALE) * 3,\n    width: (CHECKBOXHEIGHT - IMAGE_SCALE) * 3,\n    display: 'grid',\n    gridTemplateColumns: `repeat(3, ${CHECKBOXHEIGHT - IMAGE_SCALE}px)`,\n    gridTemplateRows: `repeat(3, ${CHECKBOXHEIGHT - IMAGE_SCALE}px)`,\n    gridColumnGap: 0,\n    gridRowGap: 0,\n    overflow: 'hidden',\n    position: 'absolute',\n    left: '50%',\n    top: '50%',\n    transform: 'translate(-50%, -50%)',\n    pointerEvents: 'none'\n  },\n  div1: { gridArea: '1 / 1 / 2 / 2', border: '1px solid red', pointerEvents: 'none' },\n  div2: { gridArea: '1 / 2 / 2 / 3', border: '1px solid red', pointerEvents: 'none' },\n  div3: { gridArea: '1 / 3 / 2 / 4', border: '1px solid red', pointerEvents: 'none' },\n  div4: { gridArea: '2 / 1 / 3 / 2', border: '1px solid red', pointerEvents: 'none' },\n  div5: { gridArea: '2 / 2 / 3 / 3', border: '1px solid red', pointerEvents: 'none' },\n  div6: { gridArea: '2 / 3 / 3 / 4', border: '1px solid red', pointerEvents: 'none' },\n  div7: { gridArea: '3 / 1 / 4 / 2', border: '1px solid red', pointerEvents: 'none' },\n  div8: { gridArea: '3 / 2 / 4 / 3', border: '1px solid red', pointerEvents: 'none' },\n  div9: { gridArea: '3 / 3 / 4 / 4', border: '1px solid red', pointerEvents: 'none' }\n});\n\nconst CustomCheckBox = withStyles({\n  root: {\n    paddingBottom: 4,\n    paddingTop: 4\n  }\n})((props) => <Checkbox {...props} />);\nclass SidePanel extends Component {\n  constructor() {\n    super();\n    this.state = {\n      value: '',\n      focus_tab: 0,\n      // states\n      // cat 1\n      prop_feature__vacant_lots__paved: false,\n      prop_feature__vacant_lots__unpaved: false,\n      prop_feature__vacant_lots__overgrown_lawn: false,\n      prop_feature__vacant_lots__overgrown_shrubbery_trees: false,\n      prop_feature__vacant_lots__fenced: false,\n      prop_feature__vacant_lots__litter_dumping_tires: false,\n      prop_feature__vacant_lots__litter_garbage: false,\n      prop_feature__vacant_lots__litter_bush: false,\n\n      // cat 2\n      prop_feature__structures__damaged_roof: false,\n      prop_feature__structures__broken_missing_windows_doors: false,\n      prop_feature__structures__boarded_up_windows_doors: false,\n      prop_feature__structures__overgrown_lawn: false,\n      prop_feature__structures__overgrown_shrubbery_trees: false,\n      prop_feature__structures__structural_issues: false,\n      prop_feature__structures__faded_paint: false,\n      prop_feature__structures__litter_in_around_structure: false,\n      prop_feature__structures__litter_garbage: false,\n      prop_feature__structures__litter_bush: false\n\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleChangeTab = this.handleChangeTab.bind(this);\n    this.handleChangeCheck = this.handleChangeCheck.bind(this);\n  }\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const { feature } = nextProps;\n    if (feature && feature.properties) {\n      const props_state = Object.keys(feature.properties || {})\n        .sort()\n        .filter((i) => i.includes('prop_feature'))\n        .reduce((a, v) => ({ ...a, [v]: feature.properties[v] }), {});\n      let initial_state = {\n        // cat 1\n        prop_feature__vacant_lots__paved: false,\n        prop_feature__vacant_lots__unpaved: false,\n        prop_feature__vacant_lots__overgrown_lawn: false,\n        prop_feature__vacant_lots__overgrown_shrubbery_trees: false,\n        prop_feature__vacant_lots__fenced: false,\n        prop_feature__vacant_lots__litter_dumping_tires: false,\n        prop_feature__vacant_lots__litter_garbage: false,\n        prop_feature__vacant_lots__litter_bush: false,\n        // cat 2\n        prop_feature__structures__damaged_roof: false,\n        prop_feature__structures__broken_missing_windows_doors: false,\n        prop_feature__structures__boarded_up_windows_doors: false,\n        prop_feature__structures__overgrown_lawn: false,\n        prop_feature__structures__overgrown_shrubbery_trees: false,\n        prop_feature__structures__structural_issues: false,\n        prop_feature__structures__faded_paint: false,\n        prop_feature__structures__litter_in_around_structure: false,\n        prop_feature__structures__litter_garbage: false,\n        prop_feature__structures__litter_bush: false,\n        //\n        prop_feature__no_blight__no_structures: false,\n        prop_feature__no_blight__no_vacant_lots: false,\n        ...props_state\n      };\n      this.setState({ ...initial_state });\n    }\n  }\n  handleChangeTab(ev, focus_tab) {\n    this.setState({ focus_tab });\n  }\n\n  handleChange(e) {\n    const { total, updateIndex } = this.props;\n\n    try {\n      const re = /[0-9]+/g;\n      let value = e.target.value;\n      if (value === '' || re.test(value)) {\n        value = parseInt(value);\n        if (total >= value && value >= 0) {\n          updateIndex(value);\n        }\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  handleChangeCheck(e) {\n    const { feature, updateFeature } = this.props;\n    this.setState({\n      [e.target.name]: e.target.checked\n    });\n    // update props feature\n\n    let newFature = Object(feature);\n    // category\n    const old_value = !!newFature.properties[e.target.name];\n\n    newFature.properties[e.target.name] = !old_value;\n    newFature.properties.uuid_difference = uuidv4();\n\n    [('pointScale', 'sizeImage')].forEach((i) => {\n      if (newFature.properties[i]) {\n        delete newFature.properties[i];\n      }\n    });\n    updateFeature(newFature);\n  }\n\n  convertSecondaryText(text) {\n    if (['', null, undefined].includes(text)) return '';\n    if (`${typeof text}` === 'object') return JSON.stringify(text);\n    return `${text}`;\n  }\n\n  renderProperties() {\n    const { classes, feature } = this.props;\n    if (!feature || !feature.properties) return null;\n    const uuid_difference = feature.properties.uuid_difference || uuidv4();\n\n    const properties = Object.keys(feature.properties || {})\n      .sort()\n      .reverse()\n      .filter((i) => i.includes('prop_feature'))\n      .map((i) => ({ key: `${i}`, value: feature.properties[i] }));\n    return (\n      <>\n        {properties.map((l, k) => (\n          <ListItem key={`li-${uuid_difference}-${k}`} className={classes.lItem}>\n            <ListItemText\n              className={classes.lItemText}\n              primary={`${l.key}`\n                .replace('prop_feature__', '')\n                .replace('structures__', 'struc/ ')\n                .replace('vacant_lots__', 'VLots/ ')\n                .replace('no_blight__', 'NBlig/ ')}\n            />\n            <ListItemSecondaryAction>\n              <Typography variant=\"body1\" component=\"span\" color=\"textSecondary\">\n                {this.convertSecondaryText(l.value)}\n              </Typography>\n            </ListItemSecondaryAction>\n          </ListItem>\n        ))}\n      </>\n    );\n  }\n\n  renderFeature() {\n    const { classes, feature } = this.props;\n    if (!feature || !feature.properties) return null;\n\n    return (\n      <React.Fragment>\n        <ListItem>\n          <ListItemText primary=\"Properties\" classes={{ primary: classes.primaryText }} />\n        </ListItem>\n        {this.renderProperties()}\n      </React.Fragment>\n    );\n  }\n\n  renderCheckboxs() {\n    const { classes } = this.props;\n    const {\n      prop_feature__vacant_lots__paved,\n      prop_feature__vacant_lots__unpaved,\n      prop_feature__vacant_lots__overgrown_lawn,\n      prop_feature__vacant_lots__overgrown_shrubbery_trees,\n      prop_feature__vacant_lots__fenced,\n      prop_feature__vacant_lots__litter_dumping_tires,\n      prop_feature__vacant_lots__litter_garbage,\n      prop_feature__vacant_lots__litter_bush,\n      prop_feature__structures__damaged_roof,\n      prop_feature__structures__broken_missing_windows_doors,\n      prop_feature__structures__boarded_up_windows_doors,\n      prop_feature__structures__overgrown_lawn,\n      prop_feature__structures__overgrown_shrubbery_trees,\n      prop_feature__structures__structural_issues,\n      prop_feature__structures__faded_paint,\n      prop_feature__structures__litter_in_around_structure,\n      prop_feature__structures__litter_garbage,\n      prop_feature__structures__litter_bush,\n\n      prop_feature__no_blight__structures_vlots\n    } = this.state;\n\n    return (\n      <div className={classes.canvasContainer}>\n        <FormControl size=\"small\">\n          <label className={classes.label}>Vacant lots</label>\n          <FormGroup>\n            <FormControlLabel\n              control={\n                <CustomCheckBox\n                  checked={prop_feature__vacant_lots__paved}\n                  onChange={this.handleChangeCheck}\n                  name=\"prop_feature__vacant_lots__paved\"\n                />\n              }\n              label=\"Paved\"\n            />\n            <FormControlLabel\n              control={\n                <CustomCheckBox\n                  checked={prop_feature__vacant_lots__unpaved}\n                  onChange={this.handleChangeCheck}\n                  name=\"prop_feature__vacant_lots__unpaved\"\n                />\n              }\n              label=\"Unpaved\"\n            />\n            <FormControlLabel\n              control={\n                <CustomCheckBox\n                  checked={prop_feature__vacant_lots__overgrown_lawn}\n                  onChange={this.handleChangeCheck}\n                  name=\"prop_feature__vacant_lots__overgrown_lawn\"\n                />\n              }\n              label=\"Overgrown lawn\"\n            />\n            <FormControlLabel\n              control={\n                <CustomCheckBox\n                  checked={prop_feature__vacant_lots__overgrown_shrubbery_trees}\n                  onChange={this.handleChangeCheck}\n                  name=\"prop_feature__vacant_lots__overgrown_shrubbery_trees\"\n                />\n              }\n              label=\"Overgrown shrubbery/trees\"\n            />\n            <FormControlLabel\n              control={\n                <CustomCheckBox\n                  checked={prop_feature__vacant_lots__fenced}\n                  onChange={this.handleChangeCheck}\n                  name=\"prop_feature__vacant_lots__fenced\"\n                />\n              }\n              label=\"Fenced\"\n            />\n            <FormControlLabel\n              control={\n                <CustomCheckBox\n                  checked={prop_feature__vacant_lots__litter_dumping_tires}\n                  onChange={this.handleChangeCheck}\n                  name=\"prop_feature__vacant_lots__litter_dumping_tires\"\n                />\n              }\n              label=\"Litter/ dumping/ Tires\"\n            />\n             <FormControlLabel\n              control={\n                <CustomCheckBox\n                  checked={prop_feature__vacant_lots__litter_garbage}\n                  onChange={this.handleChangeCheck}\n                  name=\"prop_feature__vacant_lots__litter_garbage\"\n                />\n              }\n              label=\"Litter garbage\"\n            />\n             <FormControlLabel\n              control={\n                <CustomCheckBox\n                  checked={prop_feature__vacant_lots__litter_bush}\n                  onChange={this.handleChangeCheck}\n                  name=\"prop_feature__vacant_lots__litter_bush\"\n                />\n              }\n              label=\"Litter bush\"\n            />\n          </FormGroup>\n          <label className={classes.label}>Structures</label>\n          <Divider />\n          <FormGroup>\n            <FormControlLabel\n              control={\n                <CustomCheckBox\n                  checked={prop_feature__structures__damaged_roof}\n                  onChange={this.handleChangeCheck}\n                  name=\"prop_feature__structures__damaged_roof\"\n                />\n              }\n              label=\"Damaged roof\"\n            />\n            <FormControlLabel\n              control={\n                <CustomCheckBox\n                  checked={prop_feature__structures__structural_issues}\n                  onChange={this.handleChangeCheck}\n                  name=\"prop_feature__structures__structural_issues\"\n                />\n              }\n              label=\"Structural issues\"\n            />\n            <FormControlLabel\n              control={\n                <CustomCheckBox\n                  checked={prop_feature__structures__broken_missing_windows_doors}\n                  onChange={this.handleChangeCheck}\n                  name=\"prop_feature__structures__broken_missing_windows_doors\"\n                />\n              }\n              label=\"Broken/ missing windows/ doors \"\n            />\n            <FormControlLabel\n              control={\n                <CustomCheckBox\n                  checked={prop_feature__structures__boarded_up_windows_doors}\n                  onChange={this.handleChangeCheck}\n                  name=\"prop_feature__structures__boarded_up_windows_doors\"\n                />\n              }\n              label=\"Boarded up windows/ doors\"\n            />\n            <FormControlLabel\n              control={\n                <CustomCheckBox\n                  checked={prop_feature__structures__overgrown_lawn}\n                  onChange={this.handleChangeCheck}\n                  name=\"prop_feature__structures__overgrown_lawn\"\n                />\n              }\n              label=\"Overgrown lawn\"\n            />\n            <FormControlLabel\n              control={\n                <CustomCheckBox\n                  checked={prop_feature__structures__overgrown_shrubbery_trees}\n                  onChange={this.handleChangeCheck}\n                  name=\"prop_feature__structures__overgrown_shrubbery_trees\"\n                />\n              }\n              label=\"Overgrown shrubbery/ trees\"\n            />\n            <FormControlLabel\n              control={\n                <CustomCheckBox\n                  checked={prop_feature__structures__faded_paint}\n                  onChange={this.handleChangeCheck}\n                  name=\"prop_feature__structures__faded_paint\"\n                />\n              }\n              label=\"Faded paint\"\n            />\n            <FormControlLabel\n              control={\n                <CustomCheckBox\n                  checked={prop_feature__structures__litter_in_around_structure}\n                  onChange={this.handleChangeCheck}\n                  name=\"prop_feature__structures__litter_in_around_structure\"\n                />\n              }\n              label=\"Litter in/around structure\"\n            />\n\n            <FormControlLabel\n              control={\n                <CustomCheckBox\n                  checked={prop_feature__structures__litter_garbage}\n                  onChange={this.handleChangeCheck}\n                  name=\"prop_feature__structures__litter_garbage\"\n                />\n              }\n              label=\"Litter garbage\"\n            />\n            <FormControlLabel\n              control={\n                <CustomCheckBox\n                  checked={prop_feature__structures__litter_bush}\n                  onChange={this.handleChangeCheck}\n                  name=\"prop_feature__structures__litter_bush\"\n                />\n              }\n              label=\"Litter bushs\"\n            />\n          </FormGroup>\n          <label className={classes.label}>No Urban Blight </label>\n          <Divider />\n          <FormGroup>\n            <FormControlLabel\n              control={\n                <CustomCheckBox\n                  checked={prop_feature__no_blight__structures_vlots}\n                  onChange={this.handleChangeCheck}\n                  name=\"prop_feature__no_blight__structures_vlots\"\n                />\n              }\n              label=\"No blight\"\n            />\n          </FormGroup>\n        </FormControl>\n      </div>\n    );\n  }\n\n  renderTabs() {\n    const { classes, feature, total } = this.props;\n    if (!feature || total === 0) return null;\n    return (\n      <React.Fragment>\n        <div className={classes.tabContainer}>{this.renderCheckboxs()}</div>\n        <Divider />\n      </React.Fragment>\n    );\n  }\n  render() {\n    const { classes, total, index, feature } = this.props;\n    return (\n      <div className={classes.container}>\n        {!feature && !total ? <Loadfile /> : null}\n        {feature ? (\n          <div className={classes.paddinBox}>\n            <TextField\n              id=\"index\"\n              label=\"Index\"\n              onChange={this.handleChange}\n              value={index}\n              type=\"number\"\n            />\n            <Divider />\n          </div>\n        ) : null}\n        {this.renderTabs()}\n        <List component=\"div\" className={classes.listfeatures}>\n          {total !== 0 ? (\n            <ListItem className={classes.lItem}>\n              <ListItemText primary=\"Total\" />\n              <ListItemSecondaryAction>\n                <Typography variant=\"body1\" component=\"span\" color=\"textSecondary\">\n                  {total}\n                </Typography>\n              </ListItemSecondaryAction>\n            </ListItem>\n          ) : null}\n          {this.renderFeature()}\n        </List>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  total: state.geojsonData.totalFeatures,\n  index: state.geojsonData.index,\n  feature: state.geojsonData.feature,\n  data: state.geojsonData.data\n});\nconst mapDispatchToProps = {\n  updateFeature,\n  updateIndex\n};\nexport default compose(connect(mapStateToProps, mapDispatchToProps), withStyles(styles))(SidePanel);\n","import 'react-notifications/lib/notifications.css';\n\nimport { Container, Grid, Paper } from '@material-ui/core';\nimport { withStyles } from '@material-ui/styles';\nimport clsx from 'clsx';\nimport { saveAs } from 'file-saver';\nimport React, { Component } from 'react';\nimport { NotificationContainer } from 'react-notifications';\nimport { connect } from 'react-redux';\nimport { compose } from 'recompose';\nimport { v4 as uuidv4 } from 'uuid';\n\nimport { downloadGeojsonFile } from '../actions/controlAction';\nimport { fetchFeature, preloadImages, updateFeature, updateIndex } from '../actions/dataActions';\nimport { getNextIndex, getPrevIndex } from '../utils/utils';\nimport styles from './../style/HomeStyles';\nimport PaperImage from './PaperImage';\nimport SidePanel from './SidePanel';\n\nclass MainPage extends Component {\n  constructor(props) {\n    super(props);\n    this.save = this.save.bind(this);\n    this.keyFunction = this.keyFunction.bind(this);\n    this.updateFeatureKey = this.updateFeatureKey.bind(this);\n  }\n  componentDidMount() {\n    document.addEventListener('keydown', this.keyFunction, false);\n  }\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.keyFunction, false);\n  }\n\n  updateFeatureKey(value) {\n    const { feature, updateFeature } = this.props;\n    if (!feature) return;\n    let newFature = Object(feature);\n    // category\n    const old_value = !!newFature.properties[value];\n\n    newFature.properties[value] = !old_value;\n    newFature.properties.uuid_difference = uuidv4();\n    [('pointScale', 'sizeImage')].forEach((i) => {\n      if (newFature.properties[i]) {\n        delete newFature.properties[i];\n      }\n    });\n    updateFeature(newFature);\n  }\n\n  keyFunction(event) {\n    const { updateIndex, index, data, totalFeatures, preloadImages } = this.props;\n    const shift = event.shiftKey;\n    const key = `${event.key}`.toLocaleLowerCase();\n    if (!totalFeatures) return;\n\n    // generic\n    switch (key) {\n      case 'arrowright':\n        updateIndex(index + 1);\n        const newData = { ...data };\n        preloadImages(index, newData, totalFeatures);\n        break;\n      case '2':\n        updateIndex(index + 1);\n        break;\n      case 'arrowleft':\n        updateIndex(index - 1);\n        break;\n      case '1':\n        updateIndex(index - 1);\n        break;\n      case 'd':\n        const nexIndex = getNextIndex(index, [...data.features]);\n        updateIndex(nexIndex);\n        break;\n      case 'a':\n        const prevIndex = getPrevIndex(index, [...data.features]);\n        updateIndex(prevIndex);\n        break;\n      default:\n        break;\n    }\n    console.log(' key', key, 'shiftKey', shift);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const { index, data, totalFeatures, downloadGeojsonFile, fetchFeature } = this.props;\n    if (nextProps.index !== index) {\n      fetchFeature(nextProps.index, data, totalFeatures);\n    }\n    // Download geojso file\n    if (nextProps.downloadFile) {\n      this.save();\n      downloadGeojsonFile(false);\n    }\n  }\n  save() {\n    const { data, fileName } = this.props;\n\n    if (data && data.features) {\n      let dataUpdate = {\n        ...data,\n        features: data.features.map((feat) => {\n          const prop_feats = Object.keys(feat.properties || {})\n            .filter((i) => i.includes('prop_feature'))\n            .map((i) => ({ key: `${i}`, value: feat.properties[i] }));\n\n          const feat_cat = {\n            sub_category: prop_feats.filter((j) => j.value).map((j) => j.key.split('__')[2]),\n            category: [\n              ...new Set(prop_feats.filter((j) => j.value).map((j) => j.key.split('__')[1]))\n            ]\n          };\n          const new_feat = { ...feat, properties: { ...feat.properties, ...feat_cat } };\n          return new_feat;\n        })\n      };\n      const blob = new Blob([JSON.stringify(dataUpdate)], {\n        type: 'application/json;charset=utf-8'\n      });\n      saveAs(blob, fileName);\n    }\n  }\n  render() {\n    const { classes, feature } = this.props;\n    const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\n    console.log(feature);\n    return (\n      <main className={classes.content}>\n        <Container maxWidth=\"xl\" className={classes.container}>\n          <Grid container spacing={1}>\n            <Grid item xs={12} sm={6} md={10} lg={10} xl={10}>\n              <Paper className={fixedHeightPaper} elevation={3}>\n                <PaperImage />\n              </Paper>\n            </Grid>\n            <Grid item xs={12} sm={6} md={2} lg={2} xl={2}>\n              <Paper className={clsx(fixedHeightPaper, classes.overflowNone)} elevation={3}>\n                <SidePanel />\n              </Paper>\n            </Grid>\n          </Grid>\n          <NotificationContainer />\n        </Container>\n      </main>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  data: state.geojsonData.data,\n  feature: state.geojsonData.feature,\n  index: state.geojsonData.index,\n  totalFeatures: state.geojsonData.totalFeatures,\n  fileName: state.geojsonData.fileName,\n  downloadFile: state.control.downloadFile\n});\nconst mapDispatchToProps = {\n  downloadGeojsonFile,\n  fetchFeature,\n  updateIndex,\n  updateFeature,\n  preloadImages\n};\n\nexport default compose(connect(mapStateToProps, mapDispatchToProps), withStyles(styles))(MainPage);\n","export function makeChartData(data) {\n  if (!data) return null;\n  const { features } = data;\n  if (features.length === 0) return null;\n  var yes = 0;\n  var no = 0;\n  var unrecognized = 0;\n  for (let index = 0; index < features.length; index++) {\n    const element = features[index];\n    if (element.properties && element.properties.dc_has_pattern_school) {\n      switch (element.properties.dc_has_pattern_school) {\n        case 'yes':\n          yes++;\n          break;\n        case 'no':\n          no++;\n          break;\n        case 'unrecognized':\n          unrecognized++;\n          break;\n        default:\n          break;\n      }\n    }\n  }\n  return [\n    { name: 'yes', value: yes },\n    { name: 'no', value: no },\n    { name: 'unrecognized', value: unrecognized },\n    { name: 'unreviewed', value: features.length - yes - no - unrecognized }\n  ];\n}\n\nexport function getNextIndex(index, features) {\n  var newIndex = index + 1;\n  var has_modifications = false;\n\n  try {\n    if (features.length <= newIndex) return index;\n    while (newIndex < features.length) {\n      const properties = features[newIndex].properties;\n      const has_field = Object.keys(properties)\n        .filter((i) => i.includes('prop_feature__'))\n        .some((j) => properties[j]);\n      if (has_field) {\n        has_modifications = true;\n        break;\n      }\n      newIndex++;\n    }\n  } catch (error) {\n    console.error(error);\n  }\n  return has_modifications ? newIndex : index;\n}\n\nexport function getPrevIndex(index, features) {\n  var newIndex = index - 1;\n  var has_modifications = false;\n\n  try {\n    if (newIndex < 0) return index;\n\n    while (newIndex >= 0) {\n      const properties = features[newIndex].properties;\n      const has_field = Object.keys(properties)\n        .filter((i) => i.includes('prop_feature__'))\n        .some((j) => properties[j]);\n      if (has_field) {\n        has_modifications = true;\n        break;\n      }\n      newIndex--;\n    }\n  } catch (error) {\n    console.error(error);\n  }\n  return has_modifications ? newIndex : index;\n}\n","import { withStyles } from '@material-ui/styles';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'recompose';\n\nimport styles from './../style/HomeStyles';\nimport Header from './Header';\nimport MainPage from './MainPage';\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n  render() {\n    // const open =true;\n    const { classes } = this.props;\n\n    return (\n      <div className={classes.root}>\n        <Header handleDrawerOpen={this.handleDrawerOpen} />\n        <MainPage />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = () => ({});\n\nexport default compose(connect(mapStateToProps), withStyles(styles))(Home);\n","import amber from '@material-ui/core/colors/amber';\nimport red from '@material-ui/core/colors/red';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport React, { Component } from 'react';\n\nimport Home from './components/Home';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: amber,\n    secondary: red\n  }\n});\n\nclass App extends Component {\n  render() {\n    return (\n      <ThemeProvider theme={theme}>\n        <CssBaseline />\n        <Home />\n      </ThemeProvider>\n    );\n  }\n}\n\nexport default App;\n","import { DOWNLOAD_FILE } from '../actions/controlAction';\n\nconst initialState = {\n  downloadFile: false\n};\n\nexport default function dataReducer(state = initialState, action) {\n  switch (action.type) {\n    case DOWNLOAD_FILE:\n      return {\n        ...state,\n        downloadFile: action.payload.download\n      };\n    default:\n      return state;\n  }\n}\n","import {\n  FETCH_DATA_BEGIN,\n  FETCH_DATA_FAILURE,\n  FETCH_DATA_SUCCESS,\n  SET_FEATURE,\n  SET_INDEX,\n  UPDATE_BUFFER,\n  UPDATE_DATA,\n  UPDATE_FEATURE\n} from '../actions/dataActions';\n\nconst initialState = {\n  data: { features: [] },\n  feature: null,\n  loading: true,\n  error: null,\n  fileName: '',\n  index: 0,\n  totalFeatures: 0,\n  buffer: 0\n};\n\nexport default function dataReducer(state = initialState, action) {\n  switch (action.type) {\n    case FETCH_DATA_BEGIN:\n      return {\n        ...state,\n        loading: true,\n        error: null\n      };\n    case FETCH_DATA_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        data: action.payload.fData,\n        fileName: action.payload.fileName,\n        totalFeatures: action.payload.totalFeatures\n      };\n    case FETCH_DATA_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.payload.error,\n        data: {}\n      };\n    case SET_INDEX:\n      return {\n        ...state,\n        index: action.payload.index\n      };\n    case SET_FEATURE:\n      return {\n        ...state,\n        feature: action.payload.feature\n      };\n    case UPDATE_DATA:\n      return {\n        ...state,\n        data: action.payload.fData\n      };\n    case UPDATE_FEATURE:\n      return {\n        ...state,\n        feature: action.payload.feature\n      };\n    case UPDATE_BUFFER:\n      return {\n        ...state,\n        buffer: action.payload.buffer\n      };\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux';\n\nimport control from './controlReducers';\nimport geojsonData from './dataReducer';\n\nexport default combineReducers({\n  geojsonData,\n  control\n});\n","import { applyMiddleware, compose, createStore } from 'redux';\nimport logger from 'redux-logger';\nimport thunk from 'redux-thunk';\n\nimport rootReducer from '../reducers';\nconst middlewareList = [thunk, logger];\n\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(rootReducer, composeEnhancer(applyMiddleware(...middlewareList)));\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport HttpsRedirect from 'react-https-redirect';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\n\nimport App from './App';\nimport store from './store';\n\nReactDOM.render(\n  <HttpsRedirect>\n    <Provider store={store}>\n      <BrowserRouter basename=\"/chips-ahoy\">\n        <Switch>\n          <Route exact component={App} path=\"/\" />\n        </Switch>\n      </BrowserRouter>\n    </Provider>\n  </HttpsRedirect>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}